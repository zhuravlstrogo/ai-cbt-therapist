#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Script to fix encoding issues in check_in.py
"""

import re

# Read the file
with open('check_in.py', 'r', encoding='utf-8', errors='ignore') as f:
    content = f.read()

# Define replacements for broken encodings
replacements = {
    # Line numbers for reference
    # Messages in greeting and check-in flow
    '\u001f@825B': '–ü—Ä–∏–≤–µ—Ç',
    '\u001a0:': '–ö–∞–∫',
    'C B51O': '—É —Ç–µ–±—è',
    '45;0': '–¥–µ–ª–∞',
    'B2>8': '—Ç–≤–æ–∏',
    '=0 MB>9 =545;5': '–Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ',
    '?@>H;0': '–ø—Ä–æ—à–ª–∞',
    'B2>O': '—Ç–≤–æ—è',
    '=545;O': '–Ω–µ–¥–µ–ª—è',
    'BK': '—Ç—ã',
    'A51O': '—Å–µ–±—è',
    'GC2AB2C5HL': '—á—É–≤—Å—Ç–≤—É–µ—à—å',
    'A53>4=O': '—Å–µ–≥–æ–¥–Ω—è',
    'B51O': '—Ç–µ–±—è',
    '2845BL': '–≤–∏–¥–µ—Ç—å',
    '\u001a0: 45;0': '–ö–∞–∫ –¥–µ–ª–∞',
    'B2>Q =0AB@>5=85': '—Ç–≤–æ—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ',
    '\u001a0: 84CB': '–ö–∞–∫ –∏–¥—É—Ç',

    # Check-in questions
    'A59G0A': '—Å–µ–π—á–∞—Å',
    'GC2AB2C5HL': '—á—É–≤—Å—Ç–≤—É–µ—à—å',
    '\u001a0: BK A59G0A A51O GC2AB2C5HL': '–ö–∞–∫ —Ç—ã —Å–µ–π—á–∞—Å —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—à—å',

    # Problem rating
    '\u001eF5=8': '–û—Ü–µ–Ω–∏',
    '=0A:>;L:>': '–Ω–∞—Å–∫–æ–ª—å–∫–æ',
    '15A?>:>8B': '–±–µ—Å–ø–æ–∫–æ–∏—Ç',
    '<5H05B': '–º–µ—à–∞–µ—Ç',
    '=5<=>3>': '–Ω–µ–º–Ω–æ–≥–æ',
    '70<5B=>': '–∑–∞–º–µ—Ç–Ω–æ',
    'A8;L=>': '—Å–∏–ª—å–Ω–æ',
    '0\u000fÔøΩ =5': '0Ô∏è‚É£ –Ω–µ',
    '1\u000fÔøΩ': '1Ô∏è‚É£',
    '2\u000fÔøΩ': '2Ô∏è‚É£',
    '3\u000fÔøΩ': '3Ô∏è‚É£',

    # Goal progress
    '\u001d0A:>;L:>': '–ù–∞—Å–∫–æ–ª—å–∫–æ',
    '?@>428=C;AO': '–ø—Ä–æ–¥–≤–∏–Ω—É–ª—Å—è',
    '?@>428=C;AO(0AL)': '–ø—Ä–æ–¥–≤–∏–Ω—É–ª—Å—è(–∞—Å—å)',
    'F5;8': '—Ü–µ–ª–∏',
    'B2>59': '—Ç–≤–æ–µ–π',
    'A>2A5<': '—Å–æ–≤—Å–µ–º',
    '?>;=>ABLN': '–ø–æ–ª–Ω–æ—Å—Ç—å—é',
    '4>AB83': '–¥–æ—Å—Ç–∏–≥',
    '\u001eF5=8 >B': '–û—Ü–µ–Ω–∏ –æ—Ç',

    # Menu and navigation
    '=ÔøΩ \u0013;02=>5': '‚Ü©Ô∏è –ì–ª–∞–≤–Ω–æ–µ',
    '=ÔøΩ \u0013;02=>5 <5=N': '‚Ü©Ô∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é',
    '<5=N': '–º–µ–Ω—é',
    '\u0012K1@0BL': '–í—ã–±—Ä–∞—Ç—å',
    'C?@06=5=85': '—É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ',
    '<ÔøΩ \u0012K1@0BL C?@06=5=85': 'üí™ –í—ã–±—Ä–∞—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ',
    '=ÔøΩ \u0014=52=8:': 'üìù –î–Ω–µ–≤–Ω–∏–∫',
    '\u001f><>IL': '–ü–æ–º–æ—â—å',
    '3>@OG85': '–≥–æ—Ä—è—á–∏–µ',
    ';8=88': '–ª–∏–Ω–∏–∏',
    '<ÔøΩ \u001f><>IL 8 3>@OG85 ;8=88': 'üÜò –ü–æ–º–æ—â—å –∏ –≥–æ—Ä—è—á–∏–µ –ª–∏–Ω–∏–∏',
    '!2O70BLAO': '–°–≤—è–∑–∞—Ç—å—Å—è',
    '?A8E>;>3><': '–ø—Å–∏—Ö–æ–ª–æ–≥–æ–º',
    '=d !2O70BLAO A ?A8E>;>3><': 'üë§ –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º',
    '\u001d0?><=8BL': '–ù–∞–ø–æ–º–Ω–∏—Ç—å',
    '?>765': '–ø–æ–∑–∂–µ',
    'ÔøΩ \u001d0?><=8BL ?>765': '‚è∞ –ù–∞–ø–æ–º–Ω–∏—Ç—å –ø–æ–∑–∂–µ',

    # Check-in status
    '\u001f>A;54=OO': '–ü–æ—Å–ª–µ–¥–Ω—è—è',
    '>F5=:0': '–æ—Ü–µ–Ω–∫–∞',
    '?@>3@5AA0': '–ø—Ä–æ–≥—Ä–µ—Å—Å–∞',
    '1K;0': '–±—ã–ª–∞',
    '4=59': '–¥–Ω–µ–π',
    '=0704': '–Ω–∞–∑–∞–¥',
    '=ÔøΩ \u001f>A;54=OO >F5=:0 ?@>3@5AA0 1K;0': 'üìä –ü–æ—Å–ª–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –±—ã–ª–∞',
    '%>G5HL': '–•–æ—á–µ—à—å',
    '?@>25AB8': '–ø—Ä–æ–≤–µ—Å—Ç–∏',
    '=5 =0945=0 40B0 =0G0;0 B5@0?88': '–ù–µ –Ω–∞–π–¥–µ–Ω–∞ –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —Ç–µ—Ä–∞–ø–∏–∏',

    # The main problematic line
    '\u0015IQ =5B 40==KE 4;O >F5=:8 ?@>3@5AA0': '–ï—â—ë –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞',
    '5IQ =5B 40==KE 4;O >F5=:8': '–ï—â—ë –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ü–µ–Ω–∫–∏',

    # Dynamics
    '\u00148=0<8:0': '–î–∏–Ω–∞–º–∏–∫–∞',
    '?@>1;5<': '–ø—Ä–æ–±–ª–µ–º',

    # Other common replacements
    '\u0018=A09BK': '–ò–Ω—Å–∞–π—Ç—ã',
    '87': '–∏–∑',
    'C?@06=5=89': '—É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π',
    '70': '–∑–∞',
    '=545;N': '–Ω–µ–¥–µ–ª—é',
    '\u0010=0;878@CN': '–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é',
    'B2>9': '—Ç–≤–æ–π',
    '?@>3@5AA': '–ø—Ä–æ–≥—Ä–µ—Å—Å',
    '\u001b': '‚è≥',
    '!?0A81>': '–°–ø–∞—Å–∏–±–æ',
    '70?8A0;': '–∑–∞–ø–∏—Å–∞–ª',
    '>?KB': '–æ–ø—ã—Ç',
    '>B;8G=0O': '–æ—Ç–ª–∏—á–Ω–∞—è',
    '@01>B0': '—Ä–∞–±–æ—Ç–∞',
    '\u001f@>4>;609': '–ü—Ä–æ–¥–æ–ª–∂–∞–π',
    '42830BLAO': '–¥–≤–∏–≥–∞—Ç—å—Å—è',
    'A2>5<': '—Å–≤–æ—ë–º',
    'B5<?5': '—Ç–µ–º–ø–µ',
    '\u001a064K9': '–ö–∞–∂–¥—ã–π',
    'H03': '—à–∞–≥',
    '2065=': '–≤–∞–∂–µ–Ω',
    '\u001e1J5<': '–û–±—ä–µ–º',
    '?@54;>65=89': '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π',
    '">@>H>': '–•–æ—Ä–æ—à–æ',
    '=0?><=N': '–Ω–∞–ø–æ–º–Ω—é',
    '\u00115@538': '–ë–µ—Ä–µ–≥–∏',
    '\u0014@C3': '–î—Ä—É–≥',
    'D>@<0': '—Ñ–æ—Ä–º–∞',

    # Crisis support
    '—è –ø–µ—Ä–µ–∂–∏–≤–∞—é –∑–∞ —Ç–µ–±—è': '—è –ø–µ—Ä–µ–∂–∏–≤–∞—é –∑–∞ —Ç–µ–±—è',
    '–ú—ã –≤–º–µ—Å—Ç–µ': '–ú—ã –≤–º–µ—Å—Ç–µ',
    '–°–µ–π—á–∞—Å –ª—É—á—à–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –∂–∏–≤–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π': '–°–µ–π—á–∞—Å –ª—É—á—à–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –∂–∏–≤–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π',

    # Yes/No buttons
    '\u0005 \u00140': '‚úÖ –î–∞',
    '=0G0BL': '–Ω–∞—á–∞—Ç—å',

    # Fix remaining broken patterns
    'ÔøΩ': 'Ô∏è',  # emoji placeholder
}

# Apply all replacements
for old, new in replacements.items():
    content = content.replace(old, new)

# Additional regex-based fixes for patterns
# Fix numbered items with broken encoding
content = re.sub(r'0\s*\u000fÔøΩ\s*=5\s*<5H05B', '0Ô∏è‚É£ –Ω–µ –º–µ—à–∞–µ—Ç', content)
content = re.sub(r'1\s*\u000fÔøΩ\s*=5<=>3>', '1Ô∏è‚É£ –Ω–µ–º–Ω–æ–≥–æ', content)
content = re.sub(r'2\s*\u000fÔøΩ\s*70<5B=>', '2Ô∏è‚É£ –∑–∞–º–µ—Ç–Ω–æ', content)
content = re.sub(r'3\s*\u000fÔøΩ\s*A8;L=>', '3Ô∏è‚É£ —Å–∏–ª—å–Ω–æ', content)

# Fix menu button patterns
content = re.sub(r'=ÔøΩ\s*\u0013;02=>5\s*<5=N', '‚Ü©Ô∏è –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', content)
content = re.sub(r'=ÔøΩ\s*\u0014=52=8:', 'üìù –î–Ω–µ–≤–Ω–∏–∫', content)
content = re.sub(r'<ÔøΩ\s*\u0012K1@0BL\s*C?@06=5=85', 'üí™ –í—ã–±—Ä–∞—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ', content)

# Write the fixed content back
with open('check_in.py', 'w', encoding='utf-8') as f:
    f.write(content)

print("Fixed encoding issues in check_in.py")